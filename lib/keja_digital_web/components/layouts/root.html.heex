<!DOCTYPE html>
<html lang="en" class="[scrollbar-gutter:stable]">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="csrf-token" content={get_csrf_token()} />
    <.live_title suffix=" Â· Phoenix Framework">
      <%= assigns[:page_title] || "KejaDigital" %>
    </.live_title>
    <link phx-track-static rel="stylesheet" href={~p"/assets/app.css"} />
    <script defer phx-track-static type="text/javascript" src={~p"/assets/app.js"}></script>
  </head>
  <body class="bg-gray-50">
    <!-- Top Navigation Bar -->
    <nav class="bg-gray-100 shadow-sm fixed w-full z-50">
      <div class="w-full px-4 lg:px-8 xl:px-12">
        <div class="flex justify-between h-16">
          <!-- Left side - Logo -->
          <div class="flex items-center">
            <span class="text-2xl font-bold text-indigo-600">KejaDigital</span>
          </div>

          <!-- Right side - User Menu -->
          <div class="flex items-center">
            <%= if @current_admin do %>
              <div class="ml-3 relative flex items-center gap-4">
                <span class="text-gray-600 text-sm">Welcome, Admin</span>
                <img class="h-8 w-8 rounded-full bg-gray-200" src="/api/placeholder/32/32" alt="Profile" />
                <div class="flex gap-4">
                  <.link href={~p"/admins/settings"} class="text-sm text-gray-700 hover:text-indigo-600 font-medium flex items-center gap-2">
                    <.icon name="hero-cog" class="h-5 w-5" />
                    Settings
                  </.link>
                  <.link href={~p"/admins/log_out"} method="delete" class="text-sm text-red-600 hover:text-red-800 font-medium flex items-center gap-2">
                    <.icon name="hero-logout" class="h-5 w-5" />
                    Log out
                  </.link>
                </div>
              </div>
            <% else %>
              <%= if @current_user do %>
                <div class="ml-3 relative flex items-center gap-4">
                  <span class="text-gray-600 text-sm">
                    Welcome back, <%= String.split(@current_user.email, "@") |> List.first() %>
                  </span>
                  <img class="h-8 w-8 rounded-full bg-gray-200" src="/api/placeholder/32/32" alt="Profile" />
                  <div class="flex gap-4">
                    <.link href={~p"/users/settings"} class="text-sm text-gray-700 hover:text-indigo-600 font-medium flex items-center gap-2">
                      <.icon name="hero-cog" class="h-5 w-5" />
                      Settings
                    </.link>
                    <.link href={~p"/users/log_out"} method="delete" class="text-sm text-red-600 hover:text-red-800 font-medium flex items-center gap-2">
                      <.icon name="hero-logout" class="h-5 w-5" />
                      Log out
                    </.link>
                  </div>
                </div>
              <% else %>
                <div class="flex items-center gap-4">
                  <.link href={~p"/admins/log_in"} class="text-sm text-gray-700 hover:text-indigo-600 font-medium">
                    Admin Login
                  </.link>
                  <.link href={~p"/users/register"} class="text-sm bg-indigo-50 text-indigo-600 px-4 py-2 rounded-md hover:bg-indigo-100 font-medium">
                    Register
                  </.link>
                </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="flex pt-16">
      <!-- Navigation Menu -->
      <nav class="w-64 bg-white shadow-md h-screen px-4 py-4">
        <div>
          <h3 class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider">Main Menu</h3>
          <div class="mt-2 space-y-1">
            <.link navigate={~p"/tenant/dashboard"} class="flex items-center px-3 py-2 text-sm rounded-lg bg-blue-50 text-blue-700">
              <.icon name="hero-home" class="mr-3 h-5 w-5" />
              Dashboard
            </.link>
            <.link navigate={~p"/tenant/payments"} class="flex items-center px-3 py-2 text-sm rounded-lg text-gray-600 hover:bg-gray-50">
              <.icon name="hero-currency-dollar" class="mr-3 h-5 w-5" />
              Payments
            </.link>
            <.link navigate={~p"/tenant_agreements"} class="flex items-center px-3 py-2 text-sm rounded-lg text-gray-600 hover:bg-gray-50">
              <.icon name="hero-document-text" class="mr-3 h-5 w-5" />
              Agreements
            </.link>
          </div>
        </div>
        <div class="mt-8">
          <h3 class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider">Account</h3>
          <div class="mt-2 space-y-1">
            <.link navigate={~p"/tenant/profile"} class="flex items-center px-3 py-2 text-sm rounded-lg text-gray-600 hover:bg-gray-50">
              <.icon name="hero-user" class="mr-3 h-5 w-5" />
              Profile
            </.link>
            <.link navigate={~p"/tenant/reminders"} class="flex items-center px-3 py-2 text-sm rounded-lg text-gray-600 hover:bg-gray-50">
              <.icon name="hero-bell" class="mr-3 h-5 w-5" />
              Notifications
            </.link>
          </div>
        </div>
      </nav>
      <!-- Dynamic Content -->
      <main class="flex-1 p-6">
        <%= @inner_content %>
      </main>
    </div>
  </body>
</html>
